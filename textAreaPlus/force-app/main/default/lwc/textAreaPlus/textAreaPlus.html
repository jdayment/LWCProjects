<template>
    <template if:true={plainText}>
        <!-- Start Plain Text / TextArea Section -->
            <div class="slds-var-p-around_x-small">
                <lightning-textarea value={textValue} label={label} max-length={maxLength} onchange={handleChange}
                    placeholder={placeHolder} required={required}></lightning-textarea>
            </div>
            <template if:true={showCharCounter}>
                <div class={charsLeftClass}>
                    {counterText}
                </div>
            </template>
        <!-- Start Plain Text / TextArea Section -->
    </template>
    <template if:false={plainText}>
        <!-- Start Rich Text Input Section -   -->
        <lightning-input-rich-text value={value} formats={formats} onchange={handleTextChange}
            label={label} required={required} onkeydown={handleRichTextKeyDown} valid={isValidCheck}
            message-when-bad-input={errorMessage}
            label-visible="true" placeholder={placeHolder}>
        </lightning-input-rich-text>

        <!-- Start Rich Text Character Counter -->
        <template if:true={showCharCounter}>
            <div class={charsLeftClass}>
                {counterText}
            </div>
        </template>
        <!-- End Rich Text Character Counter -->
        <!-- End Rich Text Input Section-->

        <!-- Start Entry Enhancements - only display if enableAdvancedTools activated -->
        <template if:true={advancedTools}>
            <div class="slds-grid slds-wrap slds-var-p-around_xx-small slds-m-bottom_x-small lgc-bg">
                <lightning-button-group>
                    <div class="slds-var-p-around_xxx-small">
                        <lightning-button-icon variant="border-filled" size="medium" icon-name="utility:search"
                            onclick={handleOpenSearch} alternative-text="Open Search and Replace"
                            tooltip="Open Search and Replace">
                                <label>Info</label>
                        </lightning-button-icon>
                    </div>
                    <template if:true={searchButton}>
                        <div class="slds-var-p-around_xxx-small">
                            <lightning-input type="text" placeholder="Search Text" variant="label-hidden"
                                value={searchTerm} onchange={handleSearchReplaceChange} data-id="search"></lightning-input>
                        </div>
                        <div class="slds-var-p-around_xxx-small">
                            <lightning-input type="text" placeholder="Replace with Text" variant="label-hidden"
                                value={replaceValue} onchange={handleSearchReplaceChange} data-id="replace"></lightning-input>
                        </div>
                        <div class="slds-var-p-left_xxx-small slds-var-p-right_small slds-var-p-top_xxx-small slds-var-p-bottom_xxx-small">
                            <lightning-button-icon variant="brand" size="medium" icon-name="utility:check" disabled={animating}
                                onclick={searchReplace} alternative-text="Search and Replace" tooltip="Search and Replace">
                            </lightning-button-icon>
                        </div>
                    </template>
                    <template if:true={autoReplaceEnabled}>
                        <div class="slds-var-p-around_xxx-small">
                            <lightning-button-icon variant="border-filled" size="medium" icon-name="utility:merge" disabled={animating}
                                onclick={applySuggested} alternative-text="Apply Suggested Terms" tooltip="Apply Suggested Terms">
                            </lightning-button-icon>
                        </div>
                    </template>
                    <template if:true={showCaseInsensitive}>
                        <div class="slds-var-p-left_xxx-small slds-var-p-right_small slds-var-p-top_xxx-small slds-var-p-bottom_xxx-small">
                            <lightning-button-icon variant={ignoreCaseVariant} size="medium" icon-name="utility:text"
                                onclick={handleIgnoreCaseToggle} alternative-text={caseInsensitiveHelpText} tooltip={caseInsensitiveHelpText}>
                            </lightning-button-icon>
                        </div>
                    </template>
                    <template if:true={dirty}>
                        <div class="slds-var-p-around_xxx-small">
                            <lightning-button-icon variant="border-filled" size="medium" icon-name="utility:undo"
                                onclick={handleRevert} alternative-text="Undo Replace" tooltip="Undo Replace">
                            </lightning-button-icon>
                        </div>
                    </template>
                    <div class="slds-var-p-left_x-small slds-var-p-right_xxx-small slds-var-p-top_xx-small slds-var-p-bottom_xxx-small">
                        <lightning-helptext content={instructions}></lightning-helptext>
                    </div>
                </lightning-button-group>
            </div>
        </template>
        <!-- End Entry Enhancements -->
    </template>
</template>
